<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-commerce Product Page</title>
    <!-- bootStrap css -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- icons -->
    <link
    href="https://cdn.jsdelivr.net/npm/remixicon@4.3.0/fonts/remixicon.css"
    rel="stylesheet"/>
    <!-- css -->
    <link rel="stylesheet" href="/stylesheets/styles.css">
    <!-- script -->
    <script src="./javaScripts/user.js" defer></script>
</head>
<body>
    <header>
      <%- include('./headerPartial',{isLoggedIn: isLoggedIn}) %>
    </header>

    <section class="hero-banner">
        <div class="banner-content">
            <img class="adjust-image" src="./images/products.webp" alt="All Products">
        </div>
    </section>

    <section class="products"> 
      <% if(products.length == 0) { %>
        <p>No products Available</p>
      <% } else { %>
      <% products.forEach(newProduct => { %>

        <div class="card" >
          <img style="width:18vw;" class="prodImage-size" src="/uploads/<%= newProduct.productImage %>" class="card-img-top" alt="<%= newProduct.productName %>">

          <div class="card-body">
            <h5 class="card-title"><b><%= newProduct.productName %></b></h5>
            <!-- <p class="card-text"><%= newProduct.productDescription %>></p> -->

            <div class="price-div">
              <p class="price" ><b>â‚¹<%= newProduct.productPrice %></b></p>
            </div>

            <div class="flex">
              <a product-id="<%= newProduct._id %>" class="btn btn-primary add-to-cart-btn">Add to cart</a>
              
              <a class="btn btn-primary" onClick="openModal('<%= newProduct._id %>')" >View Details</a>
            </div>

          </div>
      </div>
      <% })%>
    <% } %>
    </section>

    <!-- Modal Structure -->
    <div id="productModal" class="modal">
      <div class="modal-content">
        <span class="close-btn" onclick="closeModal()">&times;</span>
        <img id="modalProductImage" src="" alt="Product Image" style="width: 100%; height: auto;">
        <h2 id="modalProductName"></h2>
        <p id="modalProductDescription"></p>
        <p id="modalProductPrice"></p>
      </div>
    </div>

    <button id="Show-more-btn" class="load-more-btn login-logout-btn"><a>Show More Products</a></button>
</body>
</html>
